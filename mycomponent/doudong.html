<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>图片抖动</title>
		<style type="text/css">
			.wrap{
				text-align: center;
				margin: 20px auto;
				padding: 20px 0;
				position: relative;
			}
			.wrap img{
				position: relative;
				margin-right: 20px;
			}
		</style>
		<script type="text/javascript">
			window.onload = function(){
				var oimg = document.getElementsByTagName("img");
				var arr = [];
				for(var i=10; i>0; i-=2){
					arr.push(i, -i);
				}
				arr.push(0);
				
				for(m=0; m<oimg.length; m++){
					oimg[m].onmouseenter = function(){
						dou(this, "top");
					}
				}
				function dou(obj, attr){
					
					if( obj.timer == undefined || obj.timer == false){  //第一次抖动的时候 obj.timer 没定义，就是undefined  或者运动完了  obj.dou已经归于false，重新开始调用
						obj.timer = null;
						obj.num = 0;
						var attrValue = parseInt(getStyle(obj, attr));
						clearInterval(obj.timer);
						obj.timer = setInterval(function(){
							obj.style[attr] = attrValue + arr[obj.num] + "px";
							obj.num++;
							if( obj.num === arr.length ) { 
								clearInterval(obj.timer);
								obj.timer = false; //运动完了 给设为false
							}
						}, 70);
					} //还没运动完 继续调用 函数  obj.timer 就还是数字
					
					
				}

				function getStyle(obj, attr) {
					return obj.currentStyle ? obj.currentStyle[attr] : getComputedStyle(obj, false)[attr];
				}
			}
			
			
			
			
			
		</script>
	</head>
	<body>
		
		
		<div class="wrap">
			<img src="images/test1.png"/>
			<img src="images/test2.png"/>
			<img src="images/test3.png"/>
			<img src="images/test4.png"/>
			<img src="images/test5.png"/>
		</div>
		
		
		
		
		
	</body>
	
	
</html>
